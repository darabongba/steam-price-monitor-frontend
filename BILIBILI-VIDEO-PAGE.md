# B站视频卡片列表页面

## 概述

这是一个基于React和TypeScript开发的B站视频卡片列表页面，用于展示从B站抓取的视频数据。页面按照抓取时间对视频进行分组，提供美观的卡片式布局和交互功能。

## 功能特性

### 🎯 核心功能
- **按时间分组**: 根据抓取时间自动分组显示视频
- **响应式设计**: 支持桌面端和移动端适配
- **视频卡片**: 美观的卡片式布局展示视频信息
- **点击跳转**: 点击视频卡片直接跳转到B站视频页面
- **统计信息**: 显示总视频数、播放量、UP主数量等统计

### 🎨 界面特性
- **现代化UI**: 使用Tailwind CSS构建的现代化界面
- **深色模式**: 支持深色/浅色主题切换
- **悬停效果**: 丰富的悬停动画和交互效果
- **加载状态**: 优雅的加载和错误状态处理
- **空状态**: 友好的空数据提示

### 📊 数据展示
- **视频封面**: 高清视频封面图片
- **播放时长**: 显示视频播放时长
- **播放量**: 智能格式化播放量显示
- **UP主信息**: 显示视频作者信息
- **发布时间**: 显示视频发布时间

## 技术架构

### 组件结构
```
src/
├── types/
│   └── bilibili.ts              # B站视频数据类型定义
├── components/
│   └── Bilibili/
│       ├── VideoCard.tsx        # 单个视频卡片组件
│       ├── DateGroup.tsx        # 日期分组组件
│       └── VideoList.tsx        # 视频列表组件
├── pages/
│   └── BilibiliPage.tsx         # B站视频页面主组件
└── App.tsx                      # 路由配置
```

### 数据流程
1. **数据加载**: 从`/data/bilibili-videos-data.json`加载视频数据
2. **数据分组**: 按抓取时间对视频进行分组
3. **组件渲染**: 使用VideoCard组件渲染每个视频
4. **交互处理**: 处理点击事件，跳转到B站视频页面

## 使用方法

### 1. 访问页面
在浏览器中访问 `/bili` 路由即可查看B站视频列表页面。

### 2. 导航
- 点击顶部导航栏的"B站视频"链接
- 或直接访问 `http://localhost:3000/bili`

### 3. 交互操作
- **查看视频**: 点击任意视频卡片
- **刷新数据**: 点击页面右上角的"刷新"按钮
- **切换主题**: 使用导航栏右侧的深色模式切换按钮

## 数据格式

### 输入数据格式
页面期望从`/data/bilibili-videos-data.json`加载以下格式的数据：

```json
[
  {
    "bvId": "BV1M14Xz2EXV",
    "timestamp": "2025-10-17T09:39:55.039Z",
    "videoUrl": "https://www.bilibili.com/video/BV1M14Xz2EXV",
    "title": "牛肉是草原的，土豆是沙地的，这锅土豆烧牛肉，直接香迷糊了！",
    "coverUrl": "https://i0.hdslb.com/bfs/archive/6f105db1a9590ece376b3159ba5ae309680837cd.jpg@672w_378h_1c_!web-home-common-cover.webp",
    "playCount": "34万",
    "duration": "09:23",
    "author": "老饭骨",
    "authorSpaceUrl": "https://space.bilibili.com/419872064",
    "publishDate": "10-14"
  }
]
```

### 字段说明
- `bvId`: B站视频ID
- `timestamp`: 抓取时间戳
- `videoUrl`: 视频链接
- `title`: 视频标题
- `coverUrl`: 视频封面图片URL
- `playCount`: 播放量（支持中文格式如"34万"）
- `duration`: 视频时长
- `author`: 视频作者/UP主
- `authorSpaceUrl`: UP主空间链接
- `publishDate`: 发布日期

## 组件详解

### VideoCard 组件
单个视频卡片组件，包含：
- 视频封面图片
- 播放时长标签
- 视频标题
- UP主信息
- 播放量和发布时间
- 悬停播放按钮效果

### DateGroup 组件
日期分组组件，功能包括：
- 智能日期格式化（今天、昨天、具体日期）
- 分组标题和视频数量统计
- 响应式网格布局

### VideoList 组件
视频列表主组件，负责：
- 按时间戳对视频进行分组
- 处理分组排序（最新在前）
- 渲染所有日期分组

### BilibiliPage 组件
页面主组件，功能包括：
- 数据加载和错误处理
- 统计信息计算和展示
- 页面布局和交互逻辑
- 刷新功能

## 样式特性

### 响应式布局
- **移动端**: 单列布局
- **平板端**: 2-3列布局
- **桌面端**: 4-5列布局
- **大屏**: 最多5列布局

### 主题支持
- **浅色主题**: 白色背景，深色文字
- **深色主题**: 深色背景，浅色文字
- **自动切换**: 跟随系统主题偏好

### 动画效果
- **悬停缩放**: 卡片悬停时轻微放大
- **阴影变化**: 悬停时阴影加深
- **颜色过渡**: 平滑的颜色过渡效果
- **播放按钮**: 悬停时显示播放按钮

## 性能优化

### 图片优化
- **懒加载**: 使用`loading="lazy"`属性
- **响应式图片**: 根据屏幕尺寸加载合适尺寸的图片
- **错误处理**: 图片加载失败时的降级处理

### 数据处理
- **分组缓存**: 避免重复计算分组
- **排序优化**: 高效的排序算法
- **内存管理**: 及时清理不需要的数据

### 渲染优化
- **虚拟滚动**: 大量数据时的虚拟滚动（可扩展）
- **组件复用**: 高效的组件复用
- **状态管理**: 最小化不必要的重渲染

## 扩展功能

### 可扩展特性
1. **搜索功能**: 添加视频搜索和筛选
2. **分类筛选**: 按UP主、播放量等筛选
3. **收藏功能**: 添加视频收藏功能
4. **分享功能**: 支持视频分享
5. **播放统计**: 显示更详细的播放统计

### 数据源扩展
1. **多数据源**: 支持多个B站数据文件
2. **实时更新**: 支持实时数据更新
3. **缓存机制**: 添加数据缓存机制
4. **离线支持**: 支持离线数据访问

## 故障排除

### 常见问题

#### 1. 页面显示"暂无视频数据"
- 检查`/data/bilibili-videos-data.json`文件是否存在
- 确认文件格式是否正确
- 检查网络连接是否正常

#### 2. 视频封面不显示
- 检查封面图片URL是否有效
- 确认图片服务器是否可访问
- 检查CORS策略是否允许跨域访问

#### 3. 点击视频无响应
- 检查视频URL格式是否正确
- 确认B站链接是否有效
- 检查浏览器弹窗拦截设置

#### 4. 页面样式异常
- 确认Tailwind CSS是否正确加载
- 检查深色模式切换是否正常
- 验证响应式布局是否生效

### 调试方法
1. **浏览器控制台**: 查看JavaScript错误信息
2. **网络面板**: 检查数据加载状态
3. **元素检查**: 查看DOM结构和样式
4. **性能面板**: 分析页面性能问题

## 更新日志

### v1.0.0 (2024-01-15)
- 初始版本发布
- 支持B站视频数据展示
- 实现按时间分组功能
- 添加响应式设计和深色模式
- 集成到主应用路由系统

## 贡献指南

### 开发环境设置
1. 克隆项目仓库
2. 安装依赖: `npm install`
3. 启动开发服务器: `npm run dev`
4. 访问 `http://localhost:3000/bili`

### 代码规范
- 使用TypeScript进行类型检查
- 遵循ESLint代码规范
- 使用Prettier进行代码格式化
- 编写清晰的组件注释

### 提交规范
- 使用语义化提交信息
- 包含必要的测试用例
- 更新相关文档
- 确保代码质量检查通过
